# Resumo da Aula: Introdução ao Gerenciamento de Custos em Cloud

## Introdução
Nesta aula, o professor inicia o módulo de **Cost Management** (gerenciamento de custos) em ambientes de nuvem, com foco em conceitos teóricos voltados para desenvolvedores full stack. Ele destaca a importância de planejar, estimar e orçar custos para evitar crescimentos descontrolados, especialmente em cenários de escalabilidade. A aula introduz o uso de calculadoras de custo (ex.: AWS Calculator) e aborda como diferentes serviços, como **EKS**, **SQS** e instâncias **EC2**, impactam os custos, enfatizando a necessidade de monitoramento contínuo.

## Conteúdo Principal

### Importância do Gerenciamento de Custos
- **Contexto**: 
  - Em ambientes de nuvem (ex.: AWS, GCP, Azure), a infraestrutura é praticamente ilimitada, mas o crescimento desordenado pode levar a custos exponenciais, comprometendo a saúde financeira da organização.
  - O gerenciamento de custos é essencial para alinhar o crescimento da infraestrutura com a capacidade financeira, especialmente em organizações que escalam rapidamente.
- **Objetivo**: Planejar, estimar e orçar os custos ao longo do ciclo de vida da infraestrutura, garantindo controle e previsibilidade.

### Pilares do Gerenciamento de Custos
- **Planejar**:
  - Definir o que será utilizado na infraestrutura (ex.: serviços, tamanhos de instâncias, quantidade de clusters).
  - Exemplo: Planejar uma aplicação XPTO com características específicas (ex.: rodar em EKS com 2 clusters) e prever o impacto com base no crescimento de usuários (ex.: 10 mil usuários com aumento de 100% ao mês).
- **Estimar**:
  - Usar calculadoras de custo (ex.: AWS Calculator, acessível em `calculator.aws`) para estimar gastos com base no planejamento.
  - Exemplo: Configurar 2 clusters EKS em Ohio resulta em ~$146/mês (custo fixo, mesmo sem uso intenso, baseado em $0.10/h por cluster).
- **Orçar ao Longo do Tempo**:
  - Monitorar e ajustar os custos com base no uso real e nas variações de tráfego.
  - Exemplo: Avaliar se o custo inicial (ex.: $1000/mês) permanece estável, diminui ou aumenta com o crescimento da aplicação.

### Calculadoras de Custo
- **AWS Calculator**:
  - Ferramenta para criar estimativas detalhadas com base nos serviços utilizados.
  - Exemplo de uso:
    - **EKS**: Configurar 2 clusters custa ~$146/mês (baseado em 730 horas/mês, $0.10/h por cluster com suporte padrão).
    - **SQS**: Custo baseado no número de requisições (ex.: 1 milhão de requisições/mês em filas padrão ou FIFO, com custos maiores para FIFO devido a deduplicação e ordenação).
    - **EC2**: Varia conforme o tipo de instância:
      - T3 Nano: ~$1.80/mês.
      - T3 Medium: ~$15/mês.
      - Instâncias dedicadas ou hosts dedicados têm custos mais altos.
  - **Limitação**: As calculadoras fornecem estimativas aproximadas, não valores exatos, devido a variações no uso real (ex.: tráfego, requisições).
- **Outras Clouds**: GCP e Azure também oferecem calculadoras semelhantes, com lógica parecida.

### Fatores que Impactam os Custos
- **Serviços**:
  - **EKS**: Custo fixo por cluster ($0.10/h com suporte padrão, $0.50/h com suporte estendido), mesmo sem uso intenso.
  - **SQS**: Custo baseado na quantidade de requisições (ex.: 1 milhão/mês) e tipo de fila (standard vs. FIFO).
  - **EC2**: Depende da família de instâncias (ex.: T3 Nano vs. T3 Medium), número de CPUs, memória e performance de rede.
- **Variações**:
  - Custos aumentam com o crescimento do tráfego ou da infraestrutura (ex.: mais usuários requerem instâncias maiores).
  - Recursos ociosos (ex.: clusters EKS mantidos sem uso) geram custos fixos.
- **Exemplo Prático**:
  - Um cluster EKS ativo por 3 dias custa proporcionalmente às horas usadas, não o valor mensal total.
  - Aplicações com baixo tráfego podem usar instâncias menores (ex.: T3 Nano) para reduzir custos, enquanto aplicações intensivas exigem instâncias maiores (ex.: T3 Medium).

### Boas Práticas
- **Planejamento Inicial**: Mapear os serviços necessários e prever o impacto do crescimento (ex.: aumento de 100% de usuários/mês).
- **Uso de Calculadoras**: Utilizar ferramentas como AWS Calculator para estimativas, mas validar com uso real devido a possíveis variações.
- **Monitoramento Contínuo**: Acompanhar custos mês a mês para identificar aumentos inesperados ou oportunidades de otimização.
- **Adequação à Aplicação**: Escolher recursos (ex.: instâncias EC2) compatíveis com as necessidades da aplicação para evitar desperdícios.
- **Unidade de Medida**: Atenção às unidades das calculadoras (ex.: milhões de requisições/mês para SQS, horas para EKS).

### Próximos Passos
- Explorar ferramentas de billing da AWS (ex.: AWS Cost Explorer) para monitoramento prático.
- Revisitar conceitos de Kubernetes e containers para otimizar custos (ex.: ajustar réplicas ou instâncias).
- Discutir estratégias práticas de governança de custos e integração com ferramentas como GitHub.

## Conclusão
A aula introduz o **gerenciamento de custos** em cloud com foco teórico, destacando os pilares de planejar, estimar e orçar. O uso de calculadoras (ex.: AWS Calculator) é apresentado como base para estimativas, enquanto serviços como EKS, SQS e EC2 ilustram como custos variam com configurações e tráfego. A ênfase em monitoramento contínuo e adequação à aplicação prepara para aulas futuras, que abordarão ferramentas práticas e estratégias de governança, conectando o tema a DevOps e ao stack da Rocketseat.