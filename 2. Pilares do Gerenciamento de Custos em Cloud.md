# Resumo da Aula: Aprofundamento em Gerenciamento de Custos e Controle por Business Units

## Introdução
Nesta aula, o professor aprofunda o tema de **Cost Management** em ambientes de nuvem, revisitando os pilares de planejar, estimar e orçar, e introduzindo o conceito de **controle de custos** com ênfase na **federação de custos** por **Business Units (BUs)**. Ele destaca a importância de documentar orçamentos, usar ferramentas como o **AWS Calculator**, e acompanhar custos ao longo do tempo para melhorar estimativas. A aula também antecipa a discussão sobre governança de infraestrutura na AWS, conectando-a a conteúdos anteriores do curso.

## Conteúdo Principal

### Revisão dos Pilares do Gerenciamento de Custos
- **Planejar**:
  - Identificar os recursos necessários para o ecossistema de aplicações (ex.: 10 aplicações usando mensageria, filas como SQS, tópicos SNS, etc.).
  - Considerar o "parque de aplicações" da organização, não apenas uma aplicação isolada.
  - Exemplo: Mapear o uso de serviços como filas, tópicos ou bancos de dados para cada aplicação.
- **Estimar**:
  - Usar calculadoras de custo (ex.: AWS Calculator) para aproximar custos com base no planejamento.
  - Estimativas são aproximadas e podem variar (para cima ou para baixo) dependendo do uso real.
  - Exemplo: Um cluster EKS pode custar ~$146/mês, mas variações no tráfego ou recursos adicionais alteram o valor.
- **Orçar ao Longo do Tempo**:
  - Criar orçamentos anuais, com revisões mensais ou trimestrais.
  - Exemplo: Em agosto de 2025, planejar para setembro-dezembro e, em outubro/novembro, projetar para 2026, quebrando os custos por mês.
  - Documentar orçamentos (ex.: exportar do AWS Calculator em PDF/JSON) para acompanhamento.

### Controle de Custos e Federação
- **Controle de Custos**:
  - Ligado ao monitoramento contínuo dos gastos para identificar desvios e otimizar recursos.
  - Exemplo: Comparar o orçamento planejado (ex.: $1000/mês) com o gasto real e ajustar conforme necessário.
- **Federação de Custos**:
  - Dividir os custos por **Business Units (BUs)**, que são unidades de negócio dentro da organização (ex.: BU de Checkout, BU de Pagamentos).
  - Cada BU tem um orçamento específico (ex.: Checkout: $10.000/mês; Pagamentos: $5.000/mês).
  - **Vantagens**:
    - Responsabiliza cada BU por seus gastos, facilitando a gestão.
    - Permite redistribuir orçamentos (ex.: se Checkout gasta $7.000 de $10.000, o excedente pode ser alocado para Pagamentos).
    - Identifica BUs com gastos excessivos para otimização (ex.: revisar infraestrutura da BU com maior consumo).
  - **Orçamento Macro e Micro**:
    - Macro: Orçamento total da organização (ex.: $15.000/mês).
    - Micro: Divisão por BU (ex.: $10.000 para Checkout, $5.000 para Pagamentos).
  - **Gestão de Excedentes**: Monitorar excessos (ex.: Pagamentos gastando além de $5.000) e realocar recursos para manter o orçamento geral.

### Documentação e Acompanhamento
- **AWS Calculator**:
  - Gera documentos exportáveis (PDF/JSON) com estimativas, úteis para planejamento e referência.
  - Exemplo: Exportar um orçamento detalhando EC2 ($2/mês para T3 Nano) ou EKS ($146/mês para 2 clusters).
- **Importância da Documentação**:
  - Registrar estimativas e orçamentos para acompanhar o *cashout* (saída de dinheiro).
  - Facilita a identificação de desvios e melhora a precisão das estimativas ao longo do tempo.
- **Estimativas e Experiência**:
  - Similar a estimativas de projetos (ex.: prever 10 dias, mas levar 15 ou 5), as estimativas de custo melhoram com prática.
  - Erros iniciais são comuns:
    - **Superestimar**: Positivo, pois gasta menos que o planejado.
    - **Subestimar**: Problemático, pois compromete o orçamento.
  - Praticar regularmente leva a estimativas mais precisas.

### Governança de Infraestrutura
- **Introdução**:
  - Governança de infraestrutura será abordada na próxima aula, com foco em práticas para controlar custos e otimizar recursos na AWS.
  - Conexão com conteúdos anteriores (ex.: Kubernetes, containers) para integrar governança com desenvolvimento.
- **Antecipação**: Revisitar ferramentas e conceitos do curso (ex.: GitHub, possivelmente mencionado como "Ghost" por erro de pronúncia) para reforçar a gestão de custos.

### Boas Práticas
- **Planejamento Abrangente**: Mapear todos os recursos do ecossistema (aplicações, filas, bancos, etc.) para evitar surpresas.
- **Federação por BU**: Dividir orçamentos por unidades de negócio para maior controle e responsabilidade.
- **Documentação**: Usar exportações do AWS Calculator e documentos internos para rastrear estimativas e orçamentos.
- **Monitoramento Contínuo**: Acompanhar gastos reais versus orçados para identificar BUs com alto consumo e otimizar.
- **Melhoria de Estimativas**: Praticar orçamentação regularmente para reduzir erros, especialmente subestimações.

### Próximos Passos
- Explorar ferramentas práticas da AWS (ex.: AWS Cost Explorer) para monitoramento de custos.
- Discutir governança de infraestrutura, com dicas para otimização e integração com ferramentas como GitHub.
- Revisitar conceitos do curso (ex.: Kubernetes, containers) para conectar com estratégias de redução de custos.

## Conclusão
A aula aprofunda o **gerenciamento de custos** com foco em planejar, estimar e orçar, introduzindo o **controle de custos** e a **federação por BUs** como estratégias para gerenciar gastos em organizações complexas. A documentação via AWS Calculator e o acompanhamento contínuo são destacados como essenciais para previsibilidade financeira. A menção à governança de infraestrutura prepara para a próxima aula, que conectará esses conceitos a práticas práticas na AWS e ao stack de DevOps da Rocketseat.